"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LdSuiteLoader = void 0;
/**
 * Initializes a list of Veramo-wrapped LD Signature suites and exposes those to the Agent Module
 */
class LdSuiteLoader {
    constructor(options) {
        this.signatureMap = {};
        options.veramoLdSignatures.forEach((obj) => {
            const keyType = obj.getSupportedVeramoKeyType();
            const verificationType = obj.getSupportedVerificationType();
            return this.signatureMap[keyType] = Object.assign(Object.assign({}, this.signatureMap[keyType]), { [verificationType]: obj });
        });
    }
    getSignatureSuiteForKeyType(type, verificationType) {
        var _a;
        const suite = (_a = this.signatureMap[type]) === null || _a === void 0 ? void 0 : _a[verificationType];
        if (suite)
            return suite;
        throw new Error('No Veramo LD Signature Suite for ' + type);
    }
    getAllSignatureSuites() {
        return Object.values(this.signatureMap).map((x) => Object.values(x)).flat();
    }
    getAllSignatureSuiteTypes() {
        return Object.values(this.signatureMap).map((x) => Object.keys(x)).flat();
    }
}
exports.LdSuiteLoader = LdSuiteLoader;
//# sourceMappingURL=ld-suite-loader.js.map